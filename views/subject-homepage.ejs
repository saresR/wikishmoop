<%- include('partials/header'); -%>

<% const orderedGroups = groups.sort((a, b) => (a.sections.length > b.sections.length) ? -1 : 1); %>

<div class="padding background-lighter-blue container-fluid regular-shadow">
  <div id="carouselExampleControls" class="carousel slide container-fluid" data-ride="carousel" data-interval="5000">
    <div class="carousel-inner">
      <% if (groups && groups[0].subject === "English") { %>
      <div class="carousel-item active container-fluid">
        <a href="/literature" class="text-dark">
          <h2 class="display-3">Literature</h2>
          <p>Detailed study guides</p>
        </a>
      </div>
      <% }%>
      <% for (var i = 0; i < 3; i++) { %>
      <% if (orderedGroups[i]) { %>
      <% if (groups[0].subject !== "English" && (i === 0)) { %>
      <div class="carousel-item active container-fluid">
        <a href="/<%= orderedGroups[i].subject %>/<%= orderedGroups[i].title %>" class="text-dark">
          <h2 class="display-3"><%= orderedGroups[i].title %></h2>
          <p><%= orderedGroups[i].description %></p>
        </a>
      </div>
      <% } else { %>
      <div class="carousel-item container-fluid">
        <a href="/<%= orderedGroups[i].subject %>/<%= orderedGroups[i].title %>" class="text-dark">
          <h2 class="display-3"><%= orderedGroups[i].title %></h2>
          <p><%= orderedGroups[i].description %></p>
        </a>
      </div>
      <% }%>
      <% } %>
      <% } %>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
<!-- hi -->
<div class="padding">
  All Groups
  New group
  All Articles
  <% if (currentUser) { %>
    <a href="/new-article">New page</a>
  <% } else { %>
    <a onclick="showProfile();" class="text-primary">Log in to add pages!</a>
  <% } %>

</div>

<%- include('partials/footer'); -%>
